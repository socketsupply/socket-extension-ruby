[meta]
title = socket-ruby-extension
type = "extension"
description = "A native extension providing support for the Ruby programming language"
version = 1.0.0
maintainer = "Socket Supply, Co."
copyright = "(C) Socket Supply, Co. 2023"
lang = "en-us"

[extension.build]
script = sh scripts/build-mruby.sh

[extension]
sources[] = include/ruby.h
sources[] = src/bindings.cc
sources[] = src/ipc.cc
sources[] = src/kernel.cc
sources[] = src/migrate.cc
sources[] = src/ruby.cc
sources[] = src/state.cc
sources[] = src/types.cc

[extension.configure]
script = "sh scripts/configure.sh"

[extension.compiler]
flags[] = -Imruby/include
flags[] = -Iextensions/include

[extension.ios.linker]
flags[] = -framework Security,CoreFoundation,CoreBluetooth,ObjC

[extension.mac.linker]
flags[] = -framework Security,CoreFoundation,CoreBluetooth,ObjC
